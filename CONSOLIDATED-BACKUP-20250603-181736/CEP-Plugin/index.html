<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AI SFX Generator</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="plugin-container">
        <!-- Input row -->
        <div class="input-row">
            <textarea 
                id="sfxInput" 
                class="sfx-input" 
                placeholder="Describe your SFX"
                rows="1"></textarea>
            
            <!-- Three dot menu button -->
            <button class="menu-button" id="menuButton">
                <div class="menu-dots"></div>
            </button>
            
            <!-- Dropdown menu -->
            <div class="menu-dropdown" id="menuDropdown">
                <div class="menu-item" data-action="settings" title="Settings">‚öôÔ∏è</div>
                <div class="menu-item" data-action="about" title="About">‚ÑπÔ∏è</div>
                <div class="menu-item" data-action="debug" title="Debug">üîç</div>
                <div class="menu-item" data-action="deep-debug" title="Deep Debug">üî¨</div>
                <div class="menu-item" data-action="clear" title="Clear Cache">üóëÔ∏è</div>
            </div>
            
            <!-- Generation progress indicator -->
            <div class="generation-indicator" id="generationIndicator">
                <div class="generation-content">
                    <div class="generation-spinner"></div>
                    <div class="generation-text">Generating SFX...</div>
                </div>
            </div>
        </div>
        
        <!-- Timeline info and length controls -->
        <div class="timeline-info-row">
            <div class="timeline-info" id="timelineInfo">
                <div class="timeline-item" id="inPointItem">
                    <span>In:</span>
                    <span id="inPointDisplay" class="timeline-value">--:--</span>
                </div>
                <div class="timeline-item" id="outPointItem">
                    <span>Out:</span>
                    <span id="outPointDisplay" class="timeline-value">--:--</span>
                </div>
                <div class="timeline-item" id="durationItem">
                    <span>Duration:</span>
                    <span id="durationDisplay" class="timeline-value">--:--</span>
                </div>
            </div>
            
            <div class="manual-section">
                <div class="length-controls" id="manualControls">
                    <span class="length-label">Length:</span>
                    <input 
                        type="range" 
                        id="lengthSlider" 
                        class="length-slider" 
                        min="1" 
                        max="22" 
                        value="10"
                        step="1">
                    <span id="lengthValue" class="length-value">10s</span>
                </div>
                <button id="autoButton" class="auto-button" title="Auto-detect timeline duration">Auto</button>
            </div>
        </div>
    </div>

    <!-- Settings overlay -->
    <div class="settings-overlay" id="settingsOverlay">
        <div class="settings-modal">
            <h3>Settings</h3>
            <div class="form-group">
                <label>Eleven Labs API Key</label>
                <input type="password" id="settingsApiKey" placeholder="sk-...">
            </div>
            <div class="settings-buttons">
                <button class="btn btn-secondary" id="cancelSettings">Cancel</button>
                <button class="btn btn-primary" id="saveSettings">Save</button>
            </div>
        </div>
    </div>

    <!-- Status indicator -->
    <div class="status-indicator" id="statusIndicator">Ready</div>

    <!-- Load scripts -->
    <script src="js/CSInterface.js"></script>
    <script src="js/main.js"></script>
</body>
</html>